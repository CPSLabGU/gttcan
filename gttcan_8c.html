<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>gttcan: gttcan.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">gttcan
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('gttcan_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">gttcan.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This file contains the implementation of the GTTCAN protocol.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;gttcan.h&quot;</code><br />
<code>#include &quot;slot_defs.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for gttcan.c:</div>
<div class="dyncontent">
<div class="center"><img src="gttcan_8c__incl.png" border="0" usemap="#agttcan_8c" alt=""/></div>
<map name="agttcan_8c" id="agttcan_8c">
<area shape="rect" title="This file contains the implementation of the GTTCAN protocol." alt="" coords="149,5,217,31"/>
<area shape="rect" href="gttcan_8h_source.html" title=" " alt="" coords="113,79,181,104"/>
<area shape="rect" href="slot__defs_8h_source.html" title=" " alt="" coords="192,152,277,177"/>
<area shape="rect" title=" " alt="" coords="5,152,69,177"/>
<area shape="rect" title=" " alt="" coords="93,152,168,177"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa772a3b9fc6691a0e20d689bf8bd7896"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gttcan_8c.html#aa772a3b9fc6691a0e20d689bf8bd7896">GTTCAN_init</a> (<a class="el" href="structgttcan__s.html">gttcan_t</a> *gttcan, uint8_t localNodeId, uint32_t slotduration, uint16_t globalScheduleLength, transmit_callback_fp transmit_callback, set_timer_int_callback_fp set_timer_int_callback, read_value_fp read_value, write_value_fp write_value, void *context_pointer)</td></tr>
<tr class="memdesc:aa772a3b9fc6691a0e20d689bf8bd7896"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a GTTCAN instance.  <a href="gttcan_8c.html#aa772a3b9fc6691a0e20d689bf8bd7896">More...</a><br /></td></tr>
<tr class="separator:aa772a3b9fc6691a0e20d689bf8bd7896"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc3636f5b9daf3749dfac8e0dc381d1e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gttcan_8c.html#abc3636f5b9daf3749dfac8e0dc381d1e">GTTCAN_process_frame</a> (<a class="el" href="structgttcan__s.html">gttcan_t</a> *gttcan, uint32_t current_time, uint32_t can_frame_id_field, const uint64_t received_data)</td></tr>
<tr class="memdesc:abc3636f5b9daf3749dfac8e0dc381d1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process a received CAN frame.  <a href="gttcan_8c.html#abc3636f5b9daf3749dfac8e0dc381d1e">More...</a><br /></td></tr>
<tr class="separator:abc3636f5b9daf3749dfac8e0dc381d1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fb8dbcaee1a9838966d910997324cb9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gttcan_8c.html#a2fb8dbcaee1a9838966d910997324cb9">GTTCAN_transmit_next_frame</a> (<a class="el" href="structgttcan__s.html">gttcan_t</a> *gttcan)</td></tr>
<tr class="memdesc:a2fb8dbcaee1a9838966d910997324cb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit the next frame in the GTTCAN schedule.  <a href="gttcan_8c.html#a2fb8dbcaee1a9838966d910997324cb9">More...</a><br /></td></tr>
<tr class="separator:a2fb8dbcaee1a9838966d910997324cb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6734caf1abc1dc8cb0c1e896add7d18"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gttcan_8c.html#af6734caf1abc1dc8cb0c1e896add7d18">GTTCAN_start</a> (<a class="el" href="structgttcan__s.html">gttcan_t</a> *gttcan)</td></tr>
<tr class="memdesc:af6734caf1abc1dc8cb0c1e896add7d18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the GTTCAN instance.  <a href="gttcan_8c.html#af6734caf1abc1dc8cb0c1e896add7d18">More...</a><br /></td></tr>
<tr class="separator:af6734caf1abc1dc8cb0c1e896add7d18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fd2e7f8d55ed13c7e77e1997bf5b4d0"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gttcan_8c.html#a2fd2e7f8d55ed13c7e77e1997bf5b4d0">GTTCAN_get_slots_to_next_transmit</a> (<a class="el" href="structgttcan__s.html">gttcan_t</a> *gttcan, uint16_t currentScheduleIndex)</td></tr>
<tr class="memdesc:a2fd2e7f8d55ed13c7e77e1997bf5b4d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of slots to the next transmit.  <a href="gttcan_8c.html#a2fd2e7f8d55ed13c7e77e1997bf5b4d0">More...</a><br /></td></tr>
<tr class="separator:a2fd2e7f8d55ed13c7e77e1997bf5b4d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5c91122cb33e24a645267b672fe0140"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gttcan_8c.html#ad5c91122cb33e24a645267b672fe0140">GTTCAN_get_slots_since_last_transmit</a> (<a class="el" href="structgttcan__s.html">gttcan_t</a> *gttcan, uint16_t currentScheduleIndex)</td></tr>
<tr class="memdesc:ad5c91122cb33e24a645267b672fe0140"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of slots since the last transmit.  <a href="gttcan_8c.html#ad5c91122cb33e24a645267b672fe0140">More...</a><br /></td></tr>
<tr class="separator:ad5c91122cb33e24a645267b672fe0140"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac2eb1724aa697fd031433c75c8d6c73"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gttcan_8c.html#aac2eb1724aa697fd031433c75c8d6c73">GTTCAN_fta</a> (<a class="el" href="structgttcan__s.html">gttcan_t</a> *gttcan)</td></tr>
<tr class="memdesc:aac2eb1724aa697fd031433c75c8d6c73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the fault-tolerant average error.  <a href="gttcan_8c.html#aac2eb1724aa697fd031433c75c8d6c73">More...</a><br /></td></tr>
<tr class="separator:aac2eb1724aa697fd031433c75c8d6c73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1443aa221bc62313011e39479e1540ca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gttcan_8c.html#a1443aa221bc62313011e39479e1540ca">GTTCAN_accumulate_error</a> (<a class="el" href="structgttcan__s.html">gttcan_t</a> *gttcan, int32_t error)</td></tr>
<tr class="memdesc:a1443aa221bc62313011e39479e1540ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accumulate an error sample.  <a href="gttcan_8c.html#a1443aa221bc62313011e39479e1540ca">More...</a><br /></td></tr>
<tr class="separator:a1443aa221bc62313011e39479e1540ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >This file contains the implementation of the GTTCAN protocol. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a1443aa221bc62313011e39479e1540ca" name="a1443aa221bc62313011e39479e1540ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1443aa221bc62313011e39479e1540ca">&#9670;&#160;</a></span>GTTCAN_accumulate_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GTTCAN_accumulate_error </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgttcan__s.html">gttcan_t</a> *&#160;</td>
          <td class="paramname"><em>gttcan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accumulate an error sample. </p>
<p >This function adds the given error to the accumulator and updates the lower and upper outliers as necessary.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gttcan</td><td>The gttcan instance to operate on. </td></tr>
    <tr><td class="paramname">error</td><td>The error to accumulate. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aac2eb1724aa697fd031433c75c8d6c73" name="aac2eb1724aa697fd031433c75c8d6c73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac2eb1724aa697fd031433c75c8d6c73">&#9670;&#160;</a></span>GTTCAN_fta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t GTTCAN_fta </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgttcan__s.html">gttcan_t</a> *&#160;</td>
          <td class="paramname"><em>gttcan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the fault-tolerant average error. </p>
<p >This function returns the fault-tolerant average error and resets the error accumulator. If not enough errors have been accumulated, this function will degrade to an arithmetic average.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gttcan</td><td>The gttcan instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The fault-tolerant average error. </dd></dl>

</div>
</div>
<a id="ad5c91122cb33e24a645267b672fe0140" name="ad5c91122cb33e24a645267b672fe0140"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5c91122cb33e24a645267b672fe0140">&#9670;&#160;</a></span>GTTCAN_get_slots_since_last_transmit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t GTTCAN_get_slots_since_last_transmit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgttcan__s.html">gttcan_t</a> *&#160;</td>
          <td class="paramname"><em>gttcan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>currentScheduleIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the number of slots since the last transmit. </p>
<p >This function calculates the number of slots since the last transmit in the schedule.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gttcan</td><td>The GTTCAN instance. </td></tr>
    <tr><td class="paramname">currentScheduleIndex</td><td>The current index in the schedule. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of slots since the last transmit. </dd></dl>

</div>
</div>
<a id="a2fd2e7f8d55ed13c7e77e1997bf5b4d0" name="a2fd2e7f8d55ed13c7e77e1997bf5b4d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fd2e7f8d55ed13c7e77e1997bf5b4d0">&#9670;&#160;</a></span>GTTCAN_get_slots_to_next_transmit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t GTTCAN_get_slots_to_next_transmit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgttcan__s.html">gttcan_t</a> *&#160;</td>
          <td class="paramname"><em>gttcan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>currentScheduleIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the number of slots to the next transmit. </p>
<p >This function calculates the number of slots to the next transmit slot in the schedule.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gttcan</td><td>The GTTCAN instance. </td></tr>
    <tr><td class="paramname">currentScheduleIndex</td><td>The current index in the schedule. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of slots to the next transmit. </dd></dl>

</div>
</div>
<a id="aa772a3b9fc6691a0e20d689bf8bd7896" name="aa772a3b9fc6691a0e20d689bf8bd7896"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa772a3b9fc6691a0e20d689bf8bd7896">&#9670;&#160;</a></span>GTTCAN_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GTTCAN_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgttcan__s.html">gttcan_t</a> *&#160;</td>
          <td class="paramname"><em>gttcan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>localNodeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>slotduration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>globalScheduleLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">transmit_callback_fp&#160;</td>
          <td class="paramname"><em>transmit_callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">set_timer_int_callback_fp&#160;</td>
          <td class="paramname"><em>set_timer_int_callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">read_value_fp&#160;</td>
          <td class="paramname"><em>read_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">write_value_fp&#160;</td>
          <td class="paramname"><em>write_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context_pointer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a GTTCAN instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gttcan</td><td>The GTTCAN instance to initialize. </td></tr>
    <tr><td class="paramname">localNodeId</td><td>The local node ID. </td></tr>
    <tr><td class="paramname">slotduration</td><td>The duration of a slot. </td></tr>
    <tr><td class="paramname">globalScheduleLength</td><td>The length of the global schedule. </td></tr>
    <tr><td class="paramname">transmit_callback</td><td>The transmit callback function. </td></tr>
    <tr><td class="paramname">set_timer_int_callback</td><td>The set timer interrupt callback function. </td></tr>
    <tr><td class="paramname">read_value</td><td>The read value function. </td></tr>
    <tr><td class="paramname">write_value</td><td>The write value function. </td></tr>
    <tr><td class="paramname">context_pointer</td><td>The context pointer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abc3636f5b9daf3749dfac8e0dc381d1e" name="abc3636f5b9daf3749dfac8e0dc381d1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc3636f5b9daf3749dfac8e0dc381d1e">&#9670;&#160;</a></span>GTTCAN_process_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GTTCAN_process_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgttcan__s.html">gttcan_t</a> *&#160;</td>
          <td class="paramname"><em>gttcan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>current_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>can_frame_id_field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t&#160;</td>
          <td class="paramname"><em>received_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process a received CAN frame. </p>
<p >This function should be called whenever a CAN frame is received. For most use cases, this would be done via an interrupt, though it could be called in a polling loop. Note that the time between the frame being received and the polling mechanism detecting there is a frame waiting to be processed will introduce timing error.</p>
<p >This function processes a received CAN frame, updates the global time in the case of a reference frame, and handles the data based on the slot ID. It also calculates the time to the next entry and sets a timer interrupt for that time.</p>
<p >When a reference frame is received, the node is activated, and the local schedule is reset.</p>
<p >If no reference fram has been received for the duration of the global schedule, clock synchronisation is performed using the fault-tolerant average error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gttcan</td><td>The GTTCAN instance. </td></tr>
    <tr><td class="paramname">can_frame_id_field</td><td>The ID field of the received CAN frame. </td></tr>
    <tr><td class="paramname">received_data</td><td>The data of the received CAN frame. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af6734caf1abc1dc8cb0c1e896add7d18" name="af6734caf1abc1dc8cb0c1e896add7d18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6734caf1abc1dc8cb0c1e896add7d18">&#9670;&#160;</a></span>GTTCAN_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GTTCAN_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgttcan__s.html">gttcan_t</a> *&#160;</td>
          <td class="paramname"><em>gttcan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the GTTCAN instance. </p>
<p >This function should only ever be called on master. It resets the node to the start of the schedule, activates the node, and sends the first message in the schedule (a reference frame).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gttcan</td><td>The GTTCAN instance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2fb8dbcaee1a9838966d910997324cb9" name="a2fb8dbcaee1a9838966d910997324cb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fb8dbcaee1a9838966d910997324cb9">&#9670;&#160;</a></span>GTTCAN_transmit_next_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GTTCAN_transmit_next_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgttcan__s.html">gttcan_t</a> *&#160;</td>
          <td class="paramname"><em>gttcan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmit the next frame in the GTTCAN schedule. </p>
<p >This funtion should be called from the timer interrupt. It checks if the node is active, and if so, transmits the next frame in the local schedule. It also calculates the time to the next entry and runs the callback function to set a new timer interrupt for that point in time.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gttcan</td><td>The GTTCAN instance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="gttcan_8c.html">gttcan.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
